<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AARON + JOYCE ‚Äî Wedding Day</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&family=Cormorant+Garamond:ital,wght@0,300;0,400;1,300;1,400&display=swap" rel="stylesheet">
<style>
  :root {
    --carmine: #960018;
    --maroon: #800000;
    --rumba: #7A2F40;
    --deep-red: #95160C;
    --navy: #283551;
    --lavender: #AA8BB1;
    --champagne: #F1DDCF;
    --light-blue: #B7C9E2;
    --light-beige: #E8CFB5;
    --dusty-rose: #DCA1A1;
    --bg: #d8e8fb;
    --bg2: #f6ece3;
    --surface: rgba(255, 249, 244, 0.93);
    --text-cream: #283551;
    --text-muted: #6f5e68;
    --church-bg: url('church-cutout.png');
  }
  * { margin:0; padding:0; box-sizing:border-box; }
  html { scroll-behavior:smooth; }
  body {
    background-color: var(--bg);
    background-image:
      linear-gradient(90deg, rgba(40,53,81,0.03) 1px, transparent 1px),
      linear-gradient(0deg, rgba(40,53,81,0.03) 1px, transparent 1px),
      radial-gradient(ellipse 280px 104px at 14% 10%, rgba(255,255,255,0.82) 0 58%, transparent 60%),
      radial-gradient(ellipse 230px 92px at 38% 12%, rgba(255,255,255,0.8) 0 58%, transparent 60%),
      radial-gradient(ellipse 270px 100px at 74% 11%, rgba(255,255,255,0.82) 0 58%, transparent 60%),
      radial-gradient(ellipse 210px 80px at 90% 18%, rgba(255,255,255,0.76) 0 58%, transparent 60%),
      linear-gradient(180deg, rgba(196,226,255,0.52) 0%, rgba(196,226,255,0.17) 36%, rgba(245,233,219,0.22) 100%),
      linear-gradient(180deg, #8fd0ff 0%, #b9dffc 52%, #f1e1cf 100%);
    background-size:
      12px 12px,
      12px 12px,
      auto,
      auto,
      auto,
      auto,
      auto,
      auto;
    background-position:
      center,
      center,
      center,
      center,
      center,
      center,
      center,
      center;
    background-repeat:repeat,repeat,no-repeat,no-repeat,no-repeat,no-repeat,no-repeat,no-repeat;
    background-attachment:fixed,fixed,fixed,fixed,fixed,fixed,fixed,fixed;
    image-rendering:crisp-edges;
    image-rendering:pixelated;
    font-family: 'Press Start 2P', monospace;
    color: var(--text-cream);
    overflow-x: hidden;
    cursor: none;
  }
  .church-backdrop {
    position:fixed;
    left:50%;
    bottom:0;
    transform:translateX(-50%);
    width:clamp(110px,15vw,160px);
    height:clamp(95px,12vw,145px);
    background-image:var(--church-bg);
    background-repeat:no-repeat;
    background-position:center bottom;
    background-size:contain;
    opacity:0.5;
    pointer-events:none;
    image-rendering:crisp-edges;
    image-rendering:pixelated;
  }
  #cursor {
    width:12px; height:12px;
    background: var(--carmine);
    position:fixed; pointer-events:none; z-index:9999;
    clip-path: polygon(0 0,100% 0,100% 50%,50% 50%,50% 100%,0 100%);
    box-shadow: 0 0 8px var(--carmine);
  }
  .scanlines {
    position:fixed; inset:0; pointer-events:none; z-index:500;
    background: repeating-linear-gradient(to bottom,transparent 0,transparent 3px,rgba(40,53,81,0.03) 3px,rgba(40,53,81,0.03) 4px);
  }
  .vignette {
    position:fixed; inset:0; pointer-events:none; z-index:499;
    background: radial-gradient(ellipse at center,transparent 58%,rgba(40,53,81,0.18) 100%);
  }
  /* SCROLL COUPLE */
  .scroll-couple-track {
    position:fixed; left:0; right:0; bottom:12px; height:88px;
    pointer-events:none; z-index:360;
  }
  .scroll-couple-track::after {
    content:''; position:absolute; left:0; right:0; bottom:0; height:3px;
    background:linear-gradient(90deg,transparent,rgba(122,47,64,0.35),transparent);
  }
  .walk-unit {
    position:absolute; left:0; bottom:4px;
    transition:transform 0.12s linear;
  }
  .walk-sprite {
    width:44px; height:44px; image-rendering:pixelated;
    border:1px solid rgba(122,47,64,0.3);
    background:rgba(255,255,255,0.58);
    box-shadow:0 4px 10px rgba(40,53,81,0.12);
    animation:walkBob 0.45s ease-in-out infinite alternate;
  }
  .walk-sprite.groom { border-color:rgba(40,53,81,0.35); }
  .walk-sprite.bride { animation-delay:0.22s; }
  .couple-link {
    position:absolute; left:0; bottom:18px;
    font-size:16px; color:var(--carmine);
    text-shadow:0 0 8px rgba(150,0,24,0.3);
    line-height:1; opacity:0.28;
    transform:translateX(-999px);
    transition:transform 0.12s linear, opacity 0.2s ease;
  }
  @keyframes walkBob { from { transform:translateY(0); } to { transform:translateY(-3px); } }
  .pixel-church-wrap {
    position:fixed; left:50%; bottom:0;
    transform:translateX(-50%);
    width:clamp(220px,30vw,360px);
    pointer-events:none; z-index:90;
    opacity:0.95;
  }
  #pixelChurchImg {
    display:block; width:100%; height:auto;
    image-rendering:crisp-edges;
    image-rendering:pixelated;
  }
  /* HUD */
  .hud {
    position:fixed; top:0; left:0; right:0;
    display:flex; justify-content:space-between; align-items:center;
    padding:10px 20px;
    background:rgba(40,53,81,0.86);
    border-bottom:2px solid var(--carmine);
    box-shadow:0 2px 20px rgba(150,0,24,0.3);
    z-index:400; font-size:8px;
  }
  .hud-score { color:var(--champagne); }
  .hud-score span { color:var(--carmine); font-size:14px; display:block; margin-top:2px; text-shadow:0 0 10px var(--carmine); }
  .hud-title { color:var(--dusty-rose); letter-spacing:2px; font-size:7px; text-align:center; }
  .hud-lives { color:var(--carmine); font-size:16px; letter-spacing:4px; }
  /* HERO */
  .hero {
    min-height:100vh; display:flex; flex-direction:column;
    align-items:center; justify-content:center;
    position:relative; padding:100px 20px 80px; overflow:hidden;
  }
  .petal-canvas { position:absolute; inset:0; pointer-events:none; width:100%; height:100%; }
  .hero-floor {
    position:absolute; bottom:0; left:0; right:0; height:60px;
    background: repeating-linear-gradient(90deg,transparent 0,transparent 19px,rgba(150,0,24,0.12) 19px,rgba(150,0,24,0.12) 20px),
                repeating-linear-gradient(0deg,transparent 0,transparent 19px,rgba(150,0,24,0.12) 19px,rgba(150,0,24,0.12) 20px);
  }
  .insert-coin {
    font-family:'VT323',monospace; font-size:20px;
    color:var(--rumba); letter-spacing:3px;
    animation:blink 1.2s step-end infinite; margin-bottom:24px;
  }
  @keyframes blink { 0%,100%{opacity:1} 50%{opacity:0} }
  .hero-eyebrow {
    font-size:7px; color:var(--lavender); letter-spacing:4px;
    margin-bottom:16px; text-align:center;
  }
  .hero-name {
    font-family:'Cormorant Garamond',serif; font-style:italic; font-weight:300;
    font-size:clamp(52px,12vw,96px); color:var(--maroon);
    text-shadow:0 0 40px rgba(150,0,24,0.15); line-height:1.1; text-align:center;
  }
  .hero-amp {
    display:block; font-family:'Press Start 2P',monospace;
    font-size:clamp(10px,2vw,15px); color:var(--carmine);
    text-shadow:0 0 20px var(--carmine),3px 3px 0 #3a0008;
    letter-spacing:4px; margin:10px 0;
    animation:pulse 2s ease-in-out infinite;
  }
  @keyframes pulse { 0%,100%{text-shadow:0 0 20px var(--carmine),3px 3px 0 #3a0008} 50%{text-shadow:0 0 40px var(--carmine),0 0 60px rgba(150,0,24,0.4),3px 3px 0 #3a0008} }
  .hero-date {
    font-family:'Cormorant Garamond',serif; font-size:clamp(16px,3vw,22px);
    color:var(--dusty-rose); letter-spacing:6px; margin-top:20px; text-align:center;
  }
  .scroll-hint {
    position:absolute; bottom:80px; left:50%; transform:translateX(-50%);
    font-family:'VT323',monospace; font-size:16px;
    color:var(--text-muted); letter-spacing:2px;
    animation:bounce 1.5s ease-in-out infinite;
  }
  @keyframes bounce { 0%,100%{transform:translateX(-50%) translateY(0)} 50%{transform:translateX(-50%) translateY(8px)} }
  /* LAYOUT */
  .wrap { max-width:900px; margin:0 auto; padding:0 24px; }
  .divider {
    display:flex; align-items:center; gap:16px;
    margin:60px auto; max-width:900px; padding:0 24px;
  }
  .divider-line { flex:1; height:1px; background:linear-gradient(90deg,transparent,var(--carmine),transparent); }
  .divider-icon { font-size:20px; color:var(--carmine); text-shadow:0 0 10px var(--carmine); animation:heartbeat 1s ease-in-out infinite; }
  @keyframes heartbeat { 0%,100%{transform:scale(1)} 50%{transform:scale(1.2)} }
  .section-head { text-align:center; margin-bottom:40px; }
  .section-head h2 { font-size:8px; color:var(--carmine); letter-spacing:4px; text-shadow:0 0 15px rgba(150,0,24,0.5); margin-bottom:10px; }
  .section-head p { font-family:'Cormorant Garamond',serif; font-style:italic; font-size:22px; color:var(--text-muted); }
  /* PLAYER CARDS */
  .players-grid { display:grid; grid-template-columns:1fr 1fr; gap:24px; margin-bottom:20px; }
  .player-card {
    background:var(--surface); padding:32px 24px;
    position:relative; transition:transform 0.2s; overflow:hidden;
  }
  .player-card::before { content:''; position:absolute; top:0; left:0; right:0; height:3px; }
  .player-card.p1::before { background:linear-gradient(90deg,var(--carmine),var(--dusty-rose)); }
  .player-card.p2::before { background:linear-gradient(90deg,var(--navy),var(--lavender)); }
  .player-card:hover { transform:translateY(-4px); }
  .player-tag { font-size:7px; letter-spacing:3px; margin-bottom:16px; }
  .p1 .player-tag { color:var(--carmine); }
  .p2 .player-tag { color:var(--lavender); }
  .pixel-char-wrap { width:80px; height:80px; margin:0 auto 16px; display:block; }
  .player-name-el {
    font-family:'Cormorant Garamond',serif; font-size:clamp(18px,3vw,26px);
    font-style:italic; margin-bottom:16px; text-align:center;
  }
  .p1 .player-name-el { color:var(--dusty-rose); }
  .p2 .player-name-el { color:var(--light-blue); }
  .player-stats { font-family:'VT323',monospace; font-size:16px; color:var(--text-muted); line-height:2; }
  .stat-row { display:flex; align-items:center; gap:8px; }
  .stat-label { width:80px; color:var(--navy); }
  .stat-track { flex:1; height:6px; background:#2a1218; }
  .stat-fill { height:100%; }
  .p1 .stat-fill { background:var(--carmine); box-shadow:0 0 6px var(--carmine); }
  .p2 .stat-fill { background:var(--navy); box-shadow:0 0 6px var(--lavender); }
  /* STORY */
  .story-screen {
    background:var(--surface); border-left:3px solid var(--carmine);
    padding:36px 32px; margin-bottom:24px; position:relative;
  }
  .story-label {
    position:absolute; top:0; left:0;
    background:var(--carmine); color:var(--champagne);
    font-size:7px; padding:4px 14px; letter-spacing:2px;
  }
  .story-text {
    font-family:'Cormorant Garamond',serif; font-size:20px;
    line-height:1.9; color:var(--text-cream); margin-top:16px;
  }
  .story-text em { color:var(--dusty-rose); font-style:italic; }
  .story-text strong { color:var(--carmine); }
  .prenup-box {
    background:var(--bg2); border:1px solid var(--rumba);
    padding:24px; margin-top:20px; position:relative;
  }
  .prenup-box::before {
    content:'‚Äî WEDDING ENTOURAGE ‚Äî';
    position:absolute; top:-10px; left:50%; transform:translateX(-50%);
    font-size:8px; background:var(--bg2); color:var(--text-muted);
    padding:2px 12px; letter-spacing:2px; white-space:nowrap;
  }
  .prenup-text { font-family:'VT323',monospace; font-size:19px; color:var(--navy); line-height:1.8; text-align:center; }
  .prenup-sig { font-family:'Cormorant Garamond',serif; font-style:italic; font-size:18px; color:var(--text-muted); text-align:center; margin-top:12px; }
  .entourage-columns { display:grid; grid-template-columns:1fr 1fr; gap:24px; margin-top:8px; }
  .entourage-col-title {
    font-size:8px; letter-spacing:3px; text-align:center; color:var(--dusty-rose);
    margin-bottom:10px; font-family:'Press Start 2P',monospace;
  }
  .entourage-list { max-width:260px; margin:0 auto; text-align:left; line-height:1.75; }
  .entourage-headliners { display:grid; grid-template-columns:1fr 1fr; gap:18px; margin-bottom:16px; }
  .entourage-headliners .entourage-card {
    border:1px solid rgba(170,139,177,0.25); background:rgba(122,47,64,0.14); padding:10px 12px;
  }
  .entourage-groups { display:grid; grid-template-columns:repeat(3,minmax(0,1fr)); gap:16px; }
  .entourage-group {
    border:1px solid rgba(170,139,177,0.25); background:rgba(122,47,64,0.14);
    text-align:left; padding:12px;
  }
  .entourage-group strong { display:block; text-align:center; margin-bottom:8px; }
  .entourage-group div { margin-bottom:5px; }
  /* DETAILS */
  .details-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:16px; margin:30px 0; }
  .detail-box {
    background:var(--surface); border-top:2px solid var(--carmine);
    padding:28px 20px; text-align:center; transition:transform 0.2s;
  }
  .detail-box:hover { transform:translateY(-4px); }
  .detail-icon { font-size:28px; display:block; margin-bottom:12px; }
  .detail-label { font-size:7px; color:var(--carmine); letter-spacing:3px; margin-bottom:10px; }
  .detail-value { font-family:'Cormorant Garamond',serif; font-size:18px; color:var(--text-cream); line-height:1.7; }
  /* DRESS CODE */
  .dress-section { background:var(--surface); padding:40px 32px; margin:30px 0; }
  .dress-groups { display:flex; flex-direction:column; gap:40px; }
  .dress-groups > div { text-align:center; display:flex; flex-direction:column; align-items:center; }
  .dress-groups h3 { font-size:8px; color:var(--text-muted); letter-spacing:3px; margin:0 0 10px; line-height:1.5; }
  .swatches-row {
    display:flex; flex-wrap:wrap; align-items:flex-start; justify-content:center;
    column-gap:18px; row-gap:18px; width:fit-content; max-width:100%; margin:0 auto 8px;
  }
  .swatch {
    width:112px; display:flex; flex-direction:column; align-items:center;
    gap:10px; cursor:pointer; transition:transform 0.15s;
  }
  .swatch:hover { transform:scale(1.05); }
  .swatch-circle {
    width:44px; height:44px;
    border:2px solid rgba(255,255,255,0.1);
    transition:box-shadow 0.2s, border-color 0.2s;
  }
  .swatch:hover .swatch-circle { box-shadow:0 0 16px rgba(255,255,255,0.2); border-color:rgba(255,255,255,0.3); }
  .swatch-name {
    font-family:'VT323',monospace; font-size:13px; color:var(--text-muted);
    text-align:center; max-width:110px; line-height:1.4; min-height:18px;
  }
  .dress-notes {
    font-family:'Cormorant Garamond',serif; font-size:17px;
    color:var(--text-muted); line-height:1.9; margin-top:4px;
    text-align:center; max-width:760px; margin-left:auto; margin-right:auto;
    padding-left:0; border-left:none;
  }
  /* PHOTOBOOTH */
  .photobooth-section {
    background:var(--surface); padding:38px 24px; margin:30px 0;
    border:1px solid rgba(122,47,64,0.25);
    box-shadow:0 0 24px rgba(40,53,81,0.08);
  }
  .photobooth-head {
    font-size:7px; letter-spacing:3px; color:var(--carmine);
    text-align:center; margin-bottom:20px;
  }
  .booth-grid {
    display:grid; grid-template-columns:repeat(3,minmax(0,1fr)); gap:18px;
  }
  .booth-strip {
    background:#fffdf8; border:2px solid rgba(40,53,81,0.22);
    padding:12px 12px 14px; box-shadow:0 10px 22px rgba(40,53,81,0.14);
  }
  .booth-frame {
    aspect-ratio:3/4; overflow:hidden;
    border:2px solid rgba(122,47,64,0.18);
    background:linear-gradient(180deg,#f5ece3 0%,#e8d4c3 100%);
    margin-bottom:10px;
  }
  .booth-frame img {
    width:100%; height:100%; object-fit:cover; display:block;
    filter:saturate(0.95) contrast(1.02);
  }
  .booth-caption {
    font-family:'VT323',monospace; font-size:14px; color:var(--navy);
    text-align:center; letter-spacing:2px;
  }
  /* COUNTDOWN */
  .countdown-wrap { text-align:center; padding:50px 20px; }
  .countdown-label { font-size:7px; color:var(--carmine); letter-spacing:4px; margin-bottom:30px; display:block; }
  .countdown-timer { display:flex; justify-content:center; align-items:flex-start; gap:10px; flex-wrap:wrap; }
  .time-unit { text-align:center; min-width:70px; }
  .time-num { font-size:clamp(32px,6vw,56px); display:block; color:var(--maroon); text-shadow:0 0 20px rgba(150,0,24,0.15),3px 3px 0 rgba(40,53,81,0.2); }
  .time-lbl { font-family:'VT323',monospace; font-size:15px; color:var(--text-muted); letter-spacing:2px; }
  .time-col { font-size:40px; color:var(--carmine); padding-top:4px; animation:blink 1s step-end infinite; }
  /* MINI GAME */
  .game-wrap { text-align:center; padding:20px 0; }
  #heartGame { display:block; margin:0 auto; border:2px solid var(--rumba); box-shadow:0 0 30px rgba(150,0,24,0.2); max-width:100%; }
  .game-btn {
    display:inline-block; margin-top:16px;
    background:var(--carmine); color:var(--champagne);
    font-family:'Press Start 2P',monospace; font-size:9px;
    padding:14px 28px; border:none; cursor:pointer;
    box-shadow:0 5px 0 #3a0008; letter-spacing:2px; transition:all 0.1s;
  }
  .game-btn:hover { background:#b8001e; }
  .game-btn:active { transform:translateY(3px); box-shadow:0 2px 0 #3a0008; }
  .game-note { font-family:'VT323',monospace; font-size:16px; color:var(--text-muted); margin-top:8px; letter-spacing:1px; }
  /* RSVP */
  .rsvp-box {
    background:var(--surface); padding:50px 40px;
    border:1px solid var(--rumba);
    box-shadow:0 0 40px rgba(150,0,24,0.1),inset 0 0 60px rgba(0,0,0,0.3);
    text-align:center; position:relative;
  }
  .rsvp-box::before {
    content:'‚ú¶ RSVP ‚ú¶';
    position:absolute; top:-11px; left:50%; transform:translateX(-50%);
    font-size:8px; background:var(--carmine); color:var(--champagne);
    padding:4px 20px; letter-spacing:4px; white-space:nowrap;
  }
  .rsvp-subtitle { font-family:'Cormorant Garamond',serif; font-style:italic; font-size:22px; color:var(--text-muted); margin-bottom:30px; }
  .rsvp-form { display:flex; flex-direction:column; gap:14px; max-width:480px; margin:0 auto 28px; }
  .pixel-input {
    background:var(--bg2); border:1px solid var(--rumba); border-bottom:3px solid var(--carmine);
    color:var(--navy); font-family:'VT323',monospace; font-size:19px;
    padding:12px 16px; outline:none; letter-spacing:2px; transition:border-color 0.2s,box-shadow 0.2s;
  }
  .pixel-input:focus { border-color:var(--dusty-rose); box-shadow:0 4px 20px rgba(220,161,161,0.15); }
  .pixel-input::placeholder { color:var(--text-muted); }
  .btn-row { display:flex; gap:16px; justify-content:center; flex-wrap:wrap; margin-bottom:20px; }
  .btn-yes {
    background:var(--carmine); color:var(--champagne);
    font-family:'Press Start 2P',monospace; font-size:9px;
    padding:14px 30px; border:none; cursor:pointer;
    box-shadow:0 5px 0 #3a0008; letter-spacing:2px; transition:all 0.1s;
  }
  .btn-yes:hover { background:#b8001e; }
  .btn-yes:active { transform:translateY(3px); box-shadow:0 2px 0 #3a0008; }
  .btn-no {
    background:transparent; color:var(--text-muted);
    font-family:'Press Start 2P',monospace; font-size:9px;
    padding:14px 30px; border:1px solid #3a2030; cursor:pointer; letter-spacing:2px; transition:all 0.2s;
  }
  .btn-no:hover { border-color:var(--dusty-rose); color:var(--dusty-rose); }
  .rsvp-msg { font-family:'VT323',monospace; font-size:20px; min-height:36px; color:var(--dusty-rose); letter-spacing:1px; }
  .side-rsvp-link {
    position:fixed; right:12px; top:56%;
    transform:translateY(-50%) rotate(-90deg);
    transform-origin:center;
    z-index:365;
    text-decoration:none;
    font-family:'VT323',monospace; font-size:13px;
    letter-spacing:2px; color:var(--text-muted);
    background:rgba(255,249,244,0.74);
    border:1px solid rgba(122,47,64,0.3);
    padding:6px 12px;
    box-shadow:0 6px 14px rgba(40,53,81,0.09);
    transition:color 0.2s, border-color 0.2s, background-color 0.2s, opacity 0.2s, transform 0.2s;
    opacity:0.86;
  }
  .side-rsvp-link span { display:inline-block; margin-right:7px; animation:sideArrow 1.5s ease-in-out infinite; }
  .side-rsvp-link:hover,
  .side-rsvp-link:focus-visible {
    color:var(--carmine);
    border-color:rgba(150,0,24,0.45);
    background:rgba(255,249,244,0.92);
    transform:translateY(-50%) rotate(-90deg) translateX(-2px);
    opacity:1;
    outline:none;
  }
  @keyframes sideArrow { 0%,100%{transform:translateY(0)} 50%{transform:translateY(2px)} }
  .gifts-box {
    background:var(--surface); padding:36px 30px;
    border:1px solid rgba(122,47,64,0.35);
    box-shadow:0 0 24px rgba(150,0,24,0.08);
    text-align:center;
  }
  .gifts-text {
    font-family:'Cormorant Garamond',serif; font-size:18px;
    line-height:1.65; color:var(--text-cream);
    max-width:760px; margin:0 auto;
  }
  /* PARTICLES */
  .particle { position:fixed; pointer-events:none; z-index:50; animation:particleUp 3s ease-out forwards; font-size:12px; }
  @keyframes particleUp { 0%{transform:translateY(0) rotate(0deg) scale(1);opacity:1} 100%{transform:translateY(-260px) rotate(180deg) scale(0.2);opacity:0} }
  /* FOOTER */
  footer { text-align:center; padding:50px 20px 40px; border-top:1px solid #2a1218; }
  .footer-names { font-family:'Cormorant Garamond',serif; font-style:italic; font-size:42px; color:var(--dusty-rose); margin-bottom:14px; }
  .footer-sub { font-size:7px; color:var(--text-muted); letter-spacing:3px; line-height:2.2; }
  /* MOBILE */
  @media(max-width:600px){
    body{
      background-size:
        10px 10px,
        10px 10px,
        auto,
        auto,
        auto,
        auto,
        auto,
        auto;
      background-position:
        center,
        center,
        center,
        center,
        center,
        center,
        center,
        center;
    }
    .church-backdrop{
      width:120px;
      height:102px;
    }
    .players-grid{grid-template-columns:1fr;}
    .rsvp-box{padding:40px 20px;}
    .story-screen{padding:28px 20px;}
    .dress-section{padding:28px 20px;}
    .story-text{font-size:18px; line-height:1.75;}
    .prenup-text{font-size:17px; line-height:1.7;}
    .entourage-columns{grid-template-columns:1fr; gap:14px;}
    .entourage-list{text-align:center;}
    .entourage-headliners{grid-template-columns:1fr; gap:10px;}
    .entourage-groups{grid-template-columns:1fr;}
    .entourage-group{text-align:center;}
    .photobooth-section{padding:26px 14px;}
    .booth-grid{grid-template-columns:1fr; max-width:280px; margin:0 auto; gap:14px;}
    .scroll-couple-track{height:68px; bottom:8px;}
    .walk-unit{bottom:2px;}
    .walk-sprite{width:34px; height:34px;}
    .couple-link{font-size:13px; bottom:14px;}
    .side-rsvp-link{
      right:10px; top:auto; bottom:88px;
      transform:none;
      font-size:12px; letter-spacing:1px;
      padding:6px 10px;
      opacity:0.9;
    }
    .side-rsvp-link span{margin-right:5px;}
    .side-rsvp-link:hover,
    .side-rsvp-link:focus-visible{transform:translateY(-2px);}
    .pixel-church-wrap{width:180px; bottom:0;}
    .swatches-row{column-gap:14px; row-gap:16px;}
    .swatch{width:96px;}
    .swatch-name{max-width:100px; font-size:12px; min-height:16px;}
    .btn-row{flex-direction:column; align-items:center;}
    .btn-yes,.btn-no{width:100%; max-width:320px;}
    .pixel-input{font-size:17px;}
    .gifts-box{padding:26px 18px;}
    .gifts-text{font-size:17px; line-height:1.55;}
    .wrap{padding:0 16px;}
    .time-unit{min-width:56px;}
    .time-col{font-size:28px; padding-top:10px;}
    #heartGame{height:150px;}
  }
  @media(min-width:601px) and (max-width:860px){
    .entourage-groups{grid-template-columns:1fr 1fr;}
    .entourage-groups .entourage-group:last-child{grid-column:1 / -1; max-width:420px; margin:0 auto;}
    .booth-grid{grid-template-columns:repeat(2,minmax(0,1fr));}
  }
</style>
</head>
<body>
<div class="scanlines"></div>
<div class="vignette"></div>
<div id="cursor"></div>
<div class="church-backdrop" aria-hidden="true"></div>
<div class="scroll-couple-track" aria-hidden="true">
  <div class="walk-unit groom" id="scrollGroom">
    <canvas class="walk-sprite groom" id="charWalkGroom" width="80" height="80"></canvas>
  </div>
  <div class="walk-unit bride" id="scrollBride">
    <canvas class="walk-sprite bride" id="charWalkBride" width="80" height="80"></canvas>
  </div>
  <span class="couple-link" id="coupleHeart">‚ô•</span>
</div>
<a class="side-rsvp-link" href="#rsvp" aria-label="Scroll down to RSVP"><span>‚ñº</span>SCROLL TO RSVP</a>

<!-- HUD -->
<div class="hud">
  <div class="hud-score">SCORE <span id="scoreNum">000000</span></div>
  <div class="hud-title">AARON ‚ô• JOYCE ¬∑ JULY 16</div>
  <div class="hud-lives">‚ô• ‚ô• ‚ô•</div>
</div>

<!-- HERO -->
<section class="hero">
  <canvas class="petal-canvas" id="petalCanvas"></canvas>
  <div class="hero-floor"></div>
  <div style="position:relative;z-index:2;text-align:center;">
    <div class="insert-coin">‚Äî INSERT COIN TO CELEBRATE ‚Äî</div>
    <div class="hero-eyebrow">FINAL STAGE ¬∑ 1 CREDIT USED ¬∑ MULTIPLAYER UNLOCKED</div>
    <div class="hero-name">Aaron</div>
    <span class="hero-amp">‚ú¶ & ‚ú¶</span>
    <div class="hero-name">Joyce</div>
    <div class="hero-date">XVI ¬∑ JULY ¬∑ MMXXVI</div>
    <div style="font-family:'VT323',monospace;font-size:18px;color:var(--text-muted);letter-spacing:3px;margin-top:10px;">
      9:00 AM ¬∑ DIOCESAN SHRINE OF SAINT PIO ¬∑ ANTIPOLO
    </div>
  </div>
  <div class="scroll-hint">‚ñº PRESS DOWN TO CONTINUE ‚ñº</div>
</section>

<!-- CHARACTERS -->
<div class="divider"><div class="divider-line"></div><div class="divider-icon">‚ô•</div><div class="divider-line"></div></div>
<div class="wrap">
  <div class="section-head"><h2>CHARACTER SELECT</h2><p>Meet the Players</p></div>
  <div class="players-grid">
    <div class="player-card p1">
      <div class="player-tag">‚óÑ PLAYER 1</div>
      <canvas class="pixel-char-wrap" id="char1" width="80" height="80"></canvas>
      <div class="player-name-el">Aaron Asuncion</div>
      <div class="player-stats">
        <div class="stat-row"><span class="stat-label">LOVE</span><div class="stat-track"><div class="stat-fill" style="width:95%"></div></div></div>
        <div class="stat-row"><span class="stat-label">HUMOR</span><div class="stat-track"><div class="stat-fill" style="width:80%"></div></div></div>
        <div class="stat-row"><span class="stat-label">SNACKS</span><div class="stat-track"><div class="stat-fill" style="width:100%"></div></div></div>
        <div class="stat-row"><span class="stat-label">ARCADE</span><div class="stat-track"><div class="stat-fill" style="width:88%"></div></div></div>
        <div style="margin-top:10px;font-size:13px;">CLASS ¬∑ Speedrunner<br>POWER ¬∑ Endless Hugs</div>
      </div>
    </div>
    <div class="player-card p2">
      <div class="player-tag">PLAYER 2 ‚ñ∫</div>
      <canvas class="pixel-char-wrap" id="char2" width="80" height="80"></canvas>
      <div class="player-name-el">Joyce Estacio</div>
      <div class="player-stats">
        <div class="stat-row"><span class="stat-label">LOVE</span><div class="stat-track"><div class="stat-fill" style="width:95%"></div></div></div>
        <div class="stat-row"><span class="stat-label">WISDOM</span><div class="stat-track"><div class="stat-fill" style="width:90%"></div></div></div>
        <div class="stat-row"><span class="stat-label">COFFEE</span><div class="stat-track"><div class="stat-fill" style="width:92%"></div></div></div>
        <div class="stat-row"><span class="stat-label">TIMING</span><div class="stat-track"><div class="stat-fill" style="width:85%"></div></div></div>
        <div style="margin-top:10px;font-size:13px;">CLASS ¬∑ Lore Keeper<br>POWER ¬∑ Perfect Timing</div>
      </div>
    </div>
  </div>
</div>

<!-- STORY -->
<div class="divider"><div class="divider-line"></div><div class="divider-icon">‚ô•</div><div class="divider-line"></div></div>
<div class="wrap">
  <div class="section-head"><h2>WEDDING ENTOURAGE</h2><p>Together With Their Families</p></div>
  <div class="story-screen">
    <div class="story-label">PARENTS</div>
    <div class="story-text">
      <div class="entourage-columns">
        <div>
          <div class="entourage-col-title">PARENTS OF THE GROOM</div>
          <div class="entourage-list">
            Mr. Ruben Asuncion Jr.<br>
            Mrs. Mirasol Asuncion
          </div>
        </div>
        <div>
          <div class="entourage-col-title">PARENTS OF THE BRIDE</div>
          <div class="entourage-list">
            Mr. Joel Estacio<br>
            Mrs. Cristina Estacio
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="story-screen" style="border-left-color:var(--dusty-rose);">
    <div class="story-label" style="background:var(--dusty-rose);color:var(--bg);">PRINCIPAL SPONSORS</div>
    <div class="story-text">
      <div class="entourage-columns">
        <div>
          <div class="entourage-col-title">GENTLEMEN</div>
          <div class="entourage-list">
            Mr. Raul Crisostomo<br>
            Mr. Carrel Dela Cruz<br>
            Mr. Romeo Dela Cruz<br>
            Mr. Conrado Dimagalaliw<br>
            Mr. Jimmy Lauigan<br>
            Engr. Gerry Alameda Jr.
          </div>
        </div>
        <div>
          <div class="entourage-col-title">LADIES</div>
          <div class="entourage-list">
            Mrs. Jenny Dela Cruz<br>
            Mrs. Erminita Lalic<br>
            Mrs. Antoinette Gomultim<br>
            Mrs. Madilyn Anguilo<br>
            Mrs. Marilyn Lauigan<br>
            Mrs. Jasmin Alameda
          </div>
        </div>
      </div>
    </div>
    <div class="prenup-box">
      <div class="prenup-text">
        <div class="entourage-headliners">
          <div class="entourage-card"><strong>Best Man</strong><br>Mr. Christhian Domingo</div>
          <div class="entourage-card"><strong>Maid of Honor</strong><br>Ms. Jana Crissia Estacio</div>
        </div>
        <div class="entourage-groups">
          <div class="entourage-group">
            <strong>Groomsmen</strong>
            <div>Mr. Niel Adriano</div>
            <div>Mr. Arwin San Juan</div>
            <div>Mr. Michael Caoagas</div>
            <div>Mr. Syron Catanyag</div>
            <div>Mr. Ni√±o Pastores</div>
            <div>Mr. Lester Guda</div>
            <div>Mr. Alexander Sarmiento</div>
          </div>
          <div class="entourage-group">
            <strong>Bridesmaids</strong>
            <div>Ms. Jelica Estacio</div>
            <div>Dr. Regina Lapuz</div>
            <div>Ms. Richele Armia</div>
            <div>Ms. Keziah Cueto</div>
            <div>Ms. Abby Bacerra</div>
            <div>Ms. Christine Dotillos</div>
            <div>Ms. Keana Rivera</div>
          </div>
          <div class="entourage-group">
            <strong>Flower Girls</strong>
            <div>Samantha Denise De Asis</div>
            <div>Mira Khaela Dela Cruz</div>
            <div>Ellie Gharnette Asuncion</div>
          </div>
        </div>
      </div>
      <div class="prenup-sig">Aaron & Joyce</div>
    </div>
  </div>
</div>

<!-- EVENT DETAILS -->
<div class="divider"><div class="divider-line"></div><div class="divider-icon">‚ô•</div><div class="divider-line"></div></div>
<div class="wrap">
  <div class="section-head"><h2>WEDDING DETAILS</h2><p>Where & When</p></div>
  <div class="details-grid">
    <div class="detail-box"><span class="detail-icon">üìÖ</span><div class="detail-label">DATE</div><div class="detail-value">July 16<br>2026<br>Thursday</div></div>
    <div class="detail-box"><span class="detail-icon">‚õ™</span><div class="detail-label">CEREMONY</div><div class="detail-value">9:00 AM<br>Diocesan Shrine and Parish<br>of Saint Pio of Pietrelcina</div></div>
    <div class="detail-box"><span class="detail-icon">ü•Ç</span><div class="detail-label">RECEPTION</div><div class="detail-value">Venue Victoria<br>L. Sumulong Memorial Circle<br>25 Sen Taktak Rd, Antipolo, 1870 Rizal</div></div>
    <div class="detail-box"><span class="detail-icon">üìç</span><div class="detail-label">LOCATION</div><div class="detail-value">106 Sumulong Hwy<br>Antipolo, 1870 Rizal<br>Philippines</div></div>
  </div>
</div>

<!-- DRESS CODE -->
<div class="divider"><div class="divider-line"></div><div class="divider-icon">‚ô•</div><div class="divider-line"></div></div>
<div class="wrap">
  <div class="section-head"><h2>ATTIRE GUIDE</h2><p>Principal Sponsors & Guests</p></div>
  <div class="dress-section">
    <div class="dress-groups">

      <div>
        <h3>PRINCIPAL SPONSORS</h3>
        <div class="swatches-row">
          <div class="swatch"><div class="swatch-circle" style="background:#AA8BB1;"></div><div class="swatch-name">Grey Lavender</div></div>
          <div class="swatch"><div class="swatch-circle" style="background:#F1DDCF;border-color:rgba(200,180,160,0.4);"></div><div class="swatch-name">Champagne Pink</div></div>
        </div>
        <div class="dress-notes">LADIES | Long gown in any of the colors above<br>GENTLEMEN | Black suit, white long sleeves, neck tie</div>
      </div>

      <div>
        <h3>GUESTS</h3>
        <div class="dress-notes">Semi formal attire in any of the colors below</div>
        <div class="swatches-row">
          <div class="swatch"><div class="swatch-circle" style="background:#B7C9E2;"></div><div class="swatch-name">Light Blue Grey</div></div>
          <div class="swatch"><div class="swatch-circle" style="background:#E8CFB5;border-color:rgba(200,180,140,0.4);"></div><div class="swatch-name">Light Beige</div></div>
          <div class="swatch"><div class="swatch-circle" style="background:#DCA1A1;"></div><div class="swatch-name">Dusty Rose</div></div>
        </div>
      </div>

    </div>
  </div>
</div>

<!-- PHOTOBOOTH -->
<div class="divider"><div class="divider-line"></div><div class="divider-icon">‚ô•</div><div class="divider-line"></div></div>
<div class="wrap">
  <div class="section-head"><h2>TIMEZONE PHOTOBOOTH</h2><p>Dummy Placeholders For Your Photos</p></div>
  <div class="photobooth-section">
    <div class="photobooth-head">REPLACE THESE WITH YOUR ACTUAL WEDDING PHOTOBOOTH SHOTS</div>
    <div class="booth-grid">
      <div class="booth-strip">
        <div class="booth-frame"><img src="https://picsum.photos/seed/aaronjoyce-booth-1/480/640" alt="Photobooth placeholder 1"></div>
        <div class="booth-frame"><img src="https://picsum.photos/seed/aaronjoyce-booth-2/480/640" alt="Photobooth placeholder 2"></div>
        <div class="booth-caption">STRIP 01</div>
      </div>
      <div class="booth-strip">
        <div class="booth-frame"><img src="https://picsum.photos/seed/aaronjoyce-booth-3/480/640" alt="Photobooth placeholder 3"></div>
        <div class="booth-frame"><img src="https://picsum.photos/seed/aaronjoyce-booth-4/480/640" alt="Photobooth placeholder 4"></div>
        <div class="booth-caption">STRIP 02</div>
      </div>
      <div class="booth-strip">
        <div class="booth-frame"><img src="https://picsum.photos/seed/aaronjoyce-booth-5/480/640" alt="Photobooth placeholder 5"></div>
        <div class="booth-frame"><img src="https://picsum.photos/seed/aaronjoyce-booth-6/480/640" alt="Photobooth placeholder 6"></div>
        <div class="booth-caption">STRIP 03</div>
      </div>
    </div>
  </div>
</div>

<!-- COUNTDOWN -->
<div class="divider"><div class="divider-line"></div><div class="divider-icon">‚ô•</div><div class="divider-line"></div></div>
<div class="wrap">
  <div class="countdown-wrap">
    <span class="countdown-label">‚ü≥ TIME REMAINING UNTIL FINAL STAGE ‚ü≤</span>
    <div class="countdown-timer">
      <div class="time-unit"><span class="time-num" id="cd-days">00</span><span class="time-lbl">DAYS</span></div>
      <span class="time-col">:</span>
      <div class="time-unit"><span class="time-num" id="cd-hours">00</span><span class="time-lbl">HRS</span></div>
      <span class="time-col">:</span>
      <div class="time-unit"><span class="time-num" id="cd-mins">00</span><span class="time-lbl">MIN</span></div>
      <span class="time-col">:</span>
      <div class="time-unit"><span class="time-num" id="cd-secs">00</span><span class="time-lbl">SEC</span></div>
    </div>
  </div>
</div>

<!-- MINI GAME -->
<div class="divider"><div class="divider-line"></div><div class="divider-icon">‚ô•</div><div class="divider-line"></div></div>
<div class="wrap">
  <div class="section-head"><h2>MINI GAME</h2><p>Catch the Rose Petals</p></div>
  <div class="game-wrap">
    <canvas id="heartGame" width="600" height="200"></canvas><br>
    <button class="game-btn" id="startGameBtn" onclick="startGame()">‚ñ∂ START GAME</button>
    <div class="game-note" id="gameNote">MOVE YOUR MOUSE ¬∑ CATCH FALLING PETALS</div>
    <div id="gameResult" style="font-family:'VT323',monospace;font-size:18px;color:var(--dusty-rose);margin-top:8px;letter-spacing:2px;"></div>
  </div>
</div>

<!-- RSVP -->
<div class="divider"><div class="divider-line"></div><div class="divider-icon">‚ô•</div><div class="divider-line"></div></div>
<div class="wrap" id="rsvp" style="margin-bottom:60px;">
  <div class="section-head"><h2>CONFIRM ATTENDANCE</h2><p>Kindly reply by June 30, 2026</p></div>
  <div class="rsvp-box">
    <div class="rsvp-subtitle">We'd love to have you join us</div>
    <div class="rsvp-form">
      <input type="text" class="pixel-input" id="rsvpName" placeholder="YOUR NAME..." maxlength="40"/>
      <input type="text" class="pixel-input" id="rsvpGuests" placeholder="NUMBER OF GUESTS..." maxlength="2"/>
      <input type="text" class="pixel-input" id="rsvpMsg" placeholder="A MESSAGE FOR THE COUPLE..." maxlength="120"/>
    </div>
    <div class="btn-row">
      <button class="btn-yes" onclick="submitRSVP(true)">‚úì JOYFULLY ACCEPTS</button>
      <button class="btn-no" onclick="submitRSVP(false)">‚úï REGRETFULLY DECLINES</button>
    </div>
    <div class="rsvp-msg" id="rsvpFeedback"></div>
  </div>
</div>

<!-- IN LIEU OF GIFTS -->
<div class="divider"><div class="divider-line"></div><div class="divider-icon">‚ô•</div><div class="divider-line"></div></div>
<div class="wrap" style="margin-bottom:60px;">
  <div class="section-head"><h2>IN LIEU OF GIFTS</h2><p>Your Presence Is Present Enough</p></div>
  <div class="gifts-box">
    <div class="gifts-text">
      Your presence and prayers are the greatest gifts we could ask for. If you wish to give beyond this, a monetary gift would be deeply appreciated as we begin our journey together.
    </div>
  </div>
</div>

<footer>
  <div class="footer-names">Aaron & Joyce</div>
  <div class="footer-sub">
    JULY 16, 2026 ¬∑ DIOCESAN SHRINE OF SAINT PIO ¬∑ ANTIPOLO<br>
    RECEPTION AT VENUE VICTORIA
  </div>
</footer>

<script>
// CURSOR
const cur = document.getElementById('cursor');
document.addEventListener('mousemove', e => {
  cur.style.left=(e.clientX-6)+'px';
  cur.style.top=(e.clientY-6)+'px';
});

// PETAL BG
const pc = document.getElementById('petalCanvas');
const pCtx = pc.getContext('2d');
function resizePC(){ pc.width=pc.offsetWidth; pc.height=pc.offsetHeight||window.innerHeight; }
resizePC();
window.addEventListener('resize',resizePC);

const bgPetals = Array.from({length:60},()=>({
  x:Math.random(), y:Math.random(),
  size:Math.random()*5+3,
  speed:Math.random()*0.4+0.1,
  opacity:Math.random()*0.12+0.03,
  drift:(Math.random()-0.5)*0.4,
  rot:Math.random()*Math.PI*2,
  rotSpeed:(Math.random()-0.5)*0.02,
  color:['#960018','#DCA1A1','#F1DDCF','#AA8BB1','#800000'][Math.floor(Math.random()*5)]
}));

function animateBg(){
  pCtx.clearRect(0,0,pc.width,pc.height);
  bgPetals.forEach(p=>{
    p.y+=p.speed/pc.height;
    p.x+=p.drift/pc.width;
    p.rot+=p.rotSpeed;
    if(p.y>1.1){p.y=-0.05;p.x=Math.random();}
    pCtx.save();
    pCtx.globalAlpha=p.opacity;
    pCtx.fillStyle=p.color;
    const px=p.x*pc.width,py=p.y*pc.height;
    pCtx.translate(px,py);
    pCtx.rotate(p.rot);
    pCtx.fillRect(-p.size/2,-p.size/2,p.size,p.size);
    pCtx.restore();
  });
  requestAnimationFrame(animateBg);
}
animateBg();

// PIXEL CHARS
function drawPixelChurch(){
  const c=document.getElementById('pixelChurch');
  if(!c) return;
  const ctx=c.getContext('2d');
  const img=new Image();
  img.src='church.png';
  img.onload=()=>{
    // Downsample first to preserve the pixel-art style consistently.
    const workW=360;
    const workH=Math.max(1,Math.round((img.height/img.width)*workW));
    const off=document.createElement('canvas');
    off.width=workW;
    off.height=workH;
    const octx=off.getContext('2d');
    octx.imageSmoothingEnabled=false;
    octx.clearRect(0,0,workW,workH);
    octx.drawImage(img,0,0,workW,workH);

    const imageData=octx.getImageData(0,0,workW,workH);
    const d=imageData.data;
    const total=workW*workH;
    const visited=new Uint8Array(total);
    const qx=new Int32Array(total);
    const qy=new Int32Array(total);

    const isSky=(i)=>{
      const r=d[i],g=d[i+1],b=d[i+2],a=d[i+3];
      if(a<10) return false;
      const max=Math.max(r,g,b);
      const min=Math.min(r,g,b);
      const sat=max===0?0:(max-min)/max;
      const val=max/255;
      // Broad cyan/blue range from the provided church background.
      return b>r+8&&b>g-14&&sat>0.14&&val>0.22;
    };

    let head=0,tail=0;
    const push=(x,y)=>{
      const idx=y*workW+x;
      if(visited[idx]) return;
      const i=idx*4;
      if(!isSky(i)) return;
      visited[idx]=1;
      qx[tail]=x;
      qy[tail]=y;
      tail++;
    };

    // Seed from top and upper side edges only to preserve blue stained-glass details.
    for(let x=0;x<workW;x++) push(x,0);
    const sideLimit=Math.floor(workH*0.82);
    for(let y=0;y<sideLimit;y++){ push(0,y); push(workW-1,y); }

    while(head<tail){
      const x=qx[head],y=qy[head];
      head++;
      const idx=y*workW+x;
      d[idx*4+3]=0;
      if(x>0) push(x-1,y);
      if(x<workW-1) push(x+1,y);
      if(y>0) push(x,y-1);
      if(y<workH-1) push(x,y+1);
    }

    octx.putImageData(imageData,0,0);

    // Tight crop around remaining non-transparent pixels.
    let minX=workW,minY=workH,maxX=-1,maxY=-1;
    for(let y=0;y<workH;y++){
      for(let x=0;x<workW;x++){
        if(d[(y*workW+x)*4+3]>0){
          if(x<minX) minX=x;
          if(y<minY) minY=y;
          if(x>maxX) maxX=x;
          if(y>maxY) maxY=y;
        }
      }
    }
    if(maxX<0){
      c.width=1; c.height=1;
      return;
    }

    const bw=maxX-minX+1;
    const bh=maxY-minY+1;
    c.width=180;
    c.height=180;
    ctx.imageSmoothingEnabled=false;
    ctx.clearRect(0,0,c.width,c.height);
    const pad=3;
    const fit=Math.min((c.width-pad*2)/bw,(c.height-pad*2)/bh);
    const dw=Math.max(1,Math.floor(bw*fit));
    const dh=Math.max(1,Math.floor(bh*fit));
    const dx=Math.floor((c.width-dw)/2);
    const dy=c.height-dh;
    ctx.drawImage(off,minX,minY,bw,bh,dx,dy,dw,dh);
  };
  img.onerror=()=>{
    c.width=1; c.height=1;
  };
}
drawPixelChurch();

function drawChar(id,isP1){
  const c=document.getElementById(id);
  const ctx=c.getContext('2d');
  ctx.imageSmoothingEnabled=false;
  const s=5;
  const accent=isP1?'#960018':'#283551';
  const hair=isP1?'#7A2F40':'#283551';
  const skin='#ffd5a0';
  ctx.fillStyle='#160a0d';
  ctx.fillRect(0,0,80,80);
  ctx.fillStyle=hair;
  ctx.fillRect(10,0,60,15);
  const head=[[1,1,1,1,1,1,1,1],[1,0,1,1,1,1,0,1],[1,1,1,1,1,1,1,1]];
  head.forEach((row,r)=>row.forEach((v,c2)=>{
    ctx.fillStyle=v?skin:'#333';
    ctx.fillRect((c2+1)*s,(r+2)*s,s,s);
  }));
  ctx.fillStyle=accent;
  ctx.fillRect(1*s,6*s,8*s,4*s);
  ctx.fillStyle=skin;
  ctx.fillRect(0,6*s,s,3*s);
  ctx.fillRect(9*s,6*s,s,3*s);
  ctx.fillStyle='#1a1a2e';
  ctx.fillRect(2*s,10*s,3*s,3*s);
  ctx.fillRect(5*s,10*s,3*s,3*s);
}
drawWeddingWalker('char1','groom');
drawWeddingWalker('char2','bride');

function drawWeddingWalker(id,role){
  const c=document.getElementById(id);
  if(!c) return;
  const ctx=c.getContext('2d');
  ctx.imageSmoothingEnabled=false;
  ctx.clearRect(0,0,80,80);

  const s=4;
  const ox=2,oy=0;
  const px=(x,y,w,h,color)=>{
    ctx.fillStyle=color;
    ctx.fillRect((ox+x)*s,(oy+y)*s,w*s,h*s);
  };

  const skin='#f7d4b1';
  const ink='#2a1d1f';
  const blush='#e6a1a1';
  const maroon='#960018';
  const suit='#1f232c';
  const shirt='#f6f6f3';
  const shoe='#45414b';
  const hairG='#5a3528';
  const hairB='#6b4030';
  const veil='rgba(255,255,255,0.9)';
  const dress='#fffaf1';
  const dressShade='#f0e4d7';

  px(5,21,8,1,'rgba(40,53,81,0.2)');

  if(role==='groom'){
    px(7,4,8,5,skin);
    px(7,2,8,1,hairG);
    px(6,3,9,1,hairG);
    px(6,4,2,1,hairG);
    px(12,4,4,1,hairG);
    px(9,6,1,1,ink);
    px(12,6,1,1,ink);
    px(8,7,1,1,blush);
    px(13,7,1,1,blush);
    px(10,9,2,1,skin);

    px(7,10,8,6,suit);
    px(10,10,2,4,shirt);
    px(9,11,1,2,shirt);
    px(12,11,1,2,shirt);
    px(10,12,2,2,maroon);
    px(6,11,1,3,suit);
    px(15,11,1,3,suit);
    px(8,16,2,4,suit);
    px(12,16,2,4,suit);
    px(8,20,2,1,shoe);
    px(12,20,2,1,shoe);
  } else {
    px(8,4,6,5,skin);
    px(9,9,4,1,skin);

    px(7,2,8,1,hairB);
    px(6,3,10,1,hairB);
    px(6,4,2,10,hairB);
    px(14,4,2,10,hairB);
    px(7,9,1,5,hairB);
    px(13,9,1,5,hairB);

    px(6,1,10,2,veil);
    px(5,3,12,1,veil);
    px(5,4,1,7,veil);
    px(16,4,1,7,veil);
    px(4,10,2,3,veil);
    px(16,10,2,3,veil);
    px(8,2,6,1,'#fffdfb');

    px(9,6,1,1,ink);
    px(12,6,1,1,ink);
    px(8,7,1,1,blush);
    px(13,7,1,1,blush);

    px(8,10,6,4,dress);
    px(6,10,2,3,dress);
    px(14,10,2,3,dress);
    px(9,14,4,1,dressShade);
    px(8,14,6,1,dress);
    px(7,15,8,1,dress);
    px(6,16,10,1,dress);
    px(5,17,12,1,dress);
    px(4,18,14,1,dress);
    px(3,19,16,1,dress);
    px(2,20,16,1,dress);
    px(9,15,2,5,dressShade);
  }
}
drawWeddingWalker('charWalkGroom','groom');
drawWeddingWalker('charWalkBride','bride');

// SCROLL COUPLE
const scrollGroom=document.getElementById('scrollGroom');
const scrollBride=document.getElementById('scrollBride');
const coupleHeart=document.getElementById('coupleHeart');
function updateScrollCouple(){
  if(!scrollGroom||!scrollBride||!coupleHeart) return;
  const maxScroll=Math.max(1,document.documentElement.scrollHeight-window.innerHeight);
  const progress=Math.min(1,Math.max(0,window.scrollY/maxScroll));
  const spriteSize=window.innerWidth<=600?34:44;
  const center=window.innerWidth/2;
  const margin=10;
  const meetGap=10;
  const groomStart=margin;
  const brideStart=window.innerWidth-spriteSize-margin;
  const groomEnd=center-(meetGap/2)-spriteSize;
  const brideEnd=center+(meetGap/2);
  const groomX=groomStart+(groomEnd-groomStart)*progress;
  const brideX=brideStart+(brideEnd-brideStart)*progress;

  scrollGroom.style.transform=`translateX(${groomX}px)`;
  scrollBride.style.transform=`translateX(${brideX}px)`;

  const heartX=center-8;
  const heartY=-4+Math.sin(progress*Math.PI*4);
  coupleHeart.style.transform=`translate(${heartX}px, ${heartY}px)`;
  coupleHeart.style.opacity=String(0.28+progress*0.72);
}
updateScrollCouple();
window.addEventListener('resize',updateScrollCouple);

// SCORE
let score=0;
function addScore(n){
  score+=n;
  document.getElementById('scoreNum').textContent=String(score).padStart(6,'0');
}
document.addEventListener('click',e=>{addScore(10);spawnParticle(e.clientX,e.clientY);});
window.addEventListener('scroll',()=>{addScore(1);updateScrollCouple();});

// PARTICLES
function spawnParticle(x,y){
  const symbols=['‚ô•','‚ú¶','‚ùã','‚úø','¬∑'];
  const colors=['#960018','#DCA1A1','#F1DDCF','#AA8BB1','#B7C9E2'];
  for(let i=0;i<4;i++){
    const el=document.createElement('div');
    el.className='particle';
    el.textContent=symbols[Math.floor(Math.random()*symbols.length)];
    el.style.color=colors[Math.floor(Math.random()*colors.length)];
    el.style.left=(x+(Math.random()-0.5)*50)+'px';
    el.style.top=(y+(Math.random()-0.5)*20)+'px';
    el.style.animationDelay=(i*80)+'ms';
    document.body.appendChild(el);
    setTimeout(()=>el.remove(),3200);
  }
}

// COUNTDOWN
const wedding=new Date('2026-07-16T09:00:00+08:00');
function tick(){
  const diff=Math.max(0,wedding-new Date());
  const d=Math.floor(diff/86400000);
  const h=Math.floor((diff%86400000)/3600000);
  const m=Math.floor((diff%3600000)/60000);
  const s=Math.floor((diff%60000)/1000);
  document.getElementById('cd-days').textContent=String(d).padStart(2,'0');
  document.getElementById('cd-hours').textContent=String(h).padStart(2,'0');
  document.getElementById('cd-mins').textContent=String(m).padStart(2,'0');
  document.getElementById('cd-secs').textContent=String(s).padStart(2,'0');
}
tick(); setInterval(tick,1000);

// MINI GAME
const gc=document.getElementById('heartGame');
const gCtx=gc.getContext('2d');
let gameActive=false,gameScore=0;
let paddle={x:gc.width/2-40,w:80,y:gc.height-22,h:10};
let petals=[];

gc.addEventListener('mousemove',e=>{
  const r=gc.getBoundingClientRect();
  const scale=gc.width/r.width;
  paddle.x=Math.max(0,Math.min(gc.width-paddle.w,(e.clientX-r.left)*scale-paddle.w/2));
});
gc.addEventListener('touchmove',e=>{
  e.preventDefault();
  const r=gc.getBoundingClientRect();
  const scale=gc.width/r.width;
  paddle.x=Math.max(0,Math.min(gc.width-paddle.w,(e.touches[0].clientX-r.left)*scale-paddle.w/2));
},{passive:false});

function drawGame(){
  gCtx.fillStyle='#0e0508';
  gCtx.fillRect(0,0,gc.width,gc.height);
  gCtx.strokeStyle='rgba(150,0,24,0.08)'; gCtx.lineWidth=1;
  for(let x=0;x<gc.width;x+=30){gCtx.beginPath();gCtx.moveTo(x,0);gCtx.lineTo(x,gc.height);gCtx.stroke();}
  for(let y=0;y<gc.height;y+=30){gCtx.beginPath();gCtx.moveTo(0,y);gCtx.lineTo(gc.width,y);gCtx.stroke();}
  gCtx.fillStyle='#960018'; gCtx.shadowColor='#960018'; gCtx.shadowBlur=12;
  gCtx.fillRect(paddle.x,paddle.y,paddle.w,paddle.h);
  gCtx.shadowBlur=0;
  petals.forEach(p=>{
    gCtx.font=p.size+'px serif';
    gCtx.fillStyle=p.color;
    gCtx.fillText('‚úø',p.x,p.y);
  });
  gCtx.fillStyle='#F1DDCF'; gCtx.font='9px "Press Start 2P"';
  gCtx.fillText('PETALS: '+String(gameScore).padStart(3,'0'),10,18);
}
drawGame();

function startGame(){
  if(gameActive)return;
  gameActive=true; gameScore=0; petals=[];
  document.getElementById('startGameBtn').textContent='‚ñ† PLAYING...';
  document.getElementById('gameResult').textContent='';
  const colors=['#DCA1A1','#AA8BB1','#F1DDCF','#960018','#E8CFB5'];
  let frame=0;
  const loop=setInterval(()=>{
    frame++;
    if(frame%35===0){
      petals.push({x:Math.random()*(gc.width-20)+10,y:-14,speed:Math.random()*2.5+1.2,size:Math.floor(Math.random()*8)+14,color:colors[Math.floor(Math.random()*colors.length)]});
    }
    petals=petals.filter(p=>{
      p.y+=p.speed;
      const caught=p.y>=paddle.y&&p.y<=paddle.y+paddle.h+14&&p.x>=paddle.x-8&&p.x<=paddle.x+paddle.w+8;
      if(caught){gameScore++;addScore(50);spawnParticle(p.x+gc.getBoundingClientRect().left,p.y+gc.getBoundingClientRect().top);return false;}
      return p.y<gc.height+20;
    });
    drawGame();
  },16);
  setTimeout(()=>{
    clearInterval(loop); gameActive=false;
    document.getElementById('startGameBtn').textContent='‚Ü∫ PLAY AGAIN';
    document.getElementById('gameResult').textContent=gameScore>=15?`‚ú¶ BEAUTIFUL! ${gameScore} PETALS CAUGHT ‚ú¶`:`${gameScore} PETALS CAUGHT ¬∑ TRY AGAIN!`;
    gCtx.fillStyle='rgba(14,5,8,0.85)';
    gCtx.fillRect(0,0,gc.width,gc.height);
    gCtx.fillStyle='#F1DDCF'; gCtx.font='12px "Press Start 2P"'; gCtx.textAlign='center';
    gCtx.fillText('GAME OVER',gc.width/2,gc.height/2-10);
    gCtx.font='9px "Press Start 2P"'; gCtx.fillStyle='#DCA1A1';
    gCtx.fillText('PETALS: '+gameScore,gc.width/2,gc.height/2+16);
    gCtx.textAlign='left';
  },18000);
}

// RSVP
const RSVP_GOOGLE_WEB_APP_URL='https://script.google.com/macros/s/AKfycbycmbuZwLSHFLB02rYPvUhdkAO-RhUqgPDhv0uH3NK6fGCGn6O4MuvXxZcEir-t7s-I/exec';
const yesLines=[
  '‚ú¶ ATTENDANCE CONFIRMED ¬∑ SEE YOU ON THE DANCE FLOOR!',
  '‚ú¶ PLAYER ADDED TO GUEST LIST ¬∑ +100 XP EARNED!',
  '‚ú¶ WONDERFUL! THE COUPLE CAN\'T WAIT TO SEE YOU!',
  '‚ú¶ SAVED! YOUR NAME IS ON THE LEADERBOARD!'
];
const noLines=[
  'WE\'LL MISS YOU ¬∑ SENDING LOVE YOUR WAY.',
  'UNDERSTOOD. YOU WILL BE IN OUR HEARTS THAT DAY.',
  'RESPAWN NEXT CELEBRATION? WE\'LL SAVE YOU A SEAT.'
];
async function pushRSVPToGoogleSheets(payload){
  if(!RSVP_GOOGLE_WEB_APP_URL||RSVP_GOOGLE_WEB_APP_URL.includes('PASTE_YOUR_DEPLOYED')){
    return {enabled:false,sent:false};
  }
  try{
    const body=new URLSearchParams(payload).toString();
    await fetch(RSVP_GOOGLE_WEB_APP_URL,{
      method:'POST',
      mode:'no-cors',
      headers:{'Content-Type':'application/x-www-form-urlencoded;charset=UTF-8'},
      body
    });
    return {enabled:true,sent:true};
  }catch(err){
    console.error('RSVP Google Sheets sync failed:',err);
    return {enabled:true,sent:false};
  }
}

function readRSVPForm(attending){
  const name=document.getElementById('rsvpName').value.trim();
  const guests=document.getElementById('rsvpGuests').value.trim();
  const message=document.getElementById('rsvpMsg').value.trim();
  return {
    name,
    guests,
    message,
    attending:attending?'ACCEPTED':'DECLINED',
    event_date:'2026-07-16',
    event_time:'09:00 AM',
    event_timezone:'Asia/Manila',
    submitted_at:new Date().toISOString(),
    page:window.location.pathname
  };
}

async function submitRSVP(yes){
  const fb=document.getElementById('rsvpFeedback');
  const formData=readRSVPForm(yes);
  if(!formData.name){
    fb.style.color='var(--carmine)';
    fb.textContent='PLEASE ENTER YOUR NAME FIRST.';
    return;
  }

  if(yes){
    fb.style.color='var(--dusty-rose)';
    fb.textContent=yesLines[Math.floor(Math.random()*yesLines.length)];
    addScore(1000);
    for(let i=0;i<12;i++) setTimeout(()=>spawnParticle(Math.random()*window.innerWidth,Math.random()*300+window.scrollY),i*100);
  } else {
    fb.style.color='var(--text-muted)';
    fb.textContent=noLines[Math.floor(Math.random()*noLines.length)];
  }

  const sheetSync=await pushRSVPToGoogleSheets(formData);
  if(sheetSync.enabled&&!sheetSync.sent){
    fb.textContent+=' (SHEETS SYNC FAILED)';
  }

  ['rsvpName','rsvpGuests','rsvpMsg'].forEach(id=>{document.getElementById(id).value='';});
}

// KONAMI
let ks=[],kc=[38,38,40,40,37,39,37,39,66,65];
document.addEventListener('keydown',e=>{
  ks.push(e.keyCode);if(ks.length>10)ks.shift();
  if(JSON.stringify(ks)===JSON.stringify(kc)){
    addScore(9999);
    for(let i=0;i<30;i++) setTimeout(()=>spawnParticle(Math.random()*window.innerWidth,Math.random()*window.innerHeight),i*60);
  }
});
</script>
</body>
</html>
